(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],i[r]&&h.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4920:function(t,e,n){},"4bb8":function(t,e,n){"use strict";var a=n("4920"),i=n.n(a);i.a},5485:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("section",{staticClass:"section has-background-primary"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered is-desktop is-variable is-8 ca-columns"},[n("div",{staticClass:"column is-narrow ca-field-column"},[n("div",{staticClass:"card"},[n("InputFields",{staticClass:"card-content"})],1)]),n("div",{staticClass:"column ca-captcha-column"},[n("div",{staticClass:"card ca-captcha-card"},[n("CaptchaDialog",{staticClass:"ca-captcha-dialog"})],1)])])])]),t._m(0)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[n("p",[t._v("\n                この画像ジェネレーターは Google reCAPTCHA\n                のパロディです。本家 reCAPTCHA とは関係ありません。\n            ")]),n("p",[t._v("\n                入力画面にある reCAPTCHA\n                ダイアログはプレビューです。実際に保存される画像は「画像を保存」を押してご確認ください。\n            ")]),n("p",[t._v("\n                つくったひと:\n                "),n("a",{attrs:{href:"https://twitter.com/Te___24",target:"_blank"}},[t._v("\n                    @Te___24\n                ")])])])])}],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"captcha-dialo",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"480",height:t.height,viewBox:"0 0 480 "+t.height}},[n("rect",{attrs:{x:"0",y:"0",width:"480",height:t.height,fill:"#FFFFFF"}}),n("rect",{attrs:{x:"8",y:"8",width:"464",height:"150",fill:"#4a90e2"}}),n("foreignObject",{attrs:{x:"26",y:"26",width:"428",height:"114"}},[n("body",{staticStyle:{height:"100%",display:"flex","flex-direction":"column","justify-content":"center"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("h1",{staticStyle:{color:"#FFF","font-size":"36px","font-weight":"bold"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._v("\n                "+t._s(t.title1)+"\n            ")]),n("p",{staticStyle:{color:"#FFF","font-size":"16px"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"},domProps:{innerHTML:t._s(t.title2HTML)}})])]),n("g",t._l(t.images,function(e,a){return n("image",{key:e.slice(-40,-1),attrs:{x:8+t.imgSize*(a%t.columns),y:166+Math.floor(a/t.columns)*t.imgSize,width:t.imgSize-8,height:t.imgSize-8,"xlink:href":e}})}),0),n("rect",{attrs:{x:"0",y:t.height-70,width:"480",height:2,fill:"#DFDFDF"}}),n("path",{attrs:{d:"\n            M 17.65 6.35\n            C 16.2 4.9 14.21 4 12 4\n            c -4.42 0 -7.99 3.58 -7.99 8\n            s 3.57 8 7.99 8\n            c 3.73 0 6.84 -2.55 7.73 -6\n            h -2.08\n            c -0.82 2.33 -3.04 4 -5.65 4 -3.31 0 -6 -2.69 -6 -6\n            s 2.69 -6 6 -6\n            c 1.66 0 3.14 0.69 4.22 1.78\n            L 13 11\n            h 7\n            V 4\n            l -2.35 2.35\n            z",fill:"#737373",transform:"translate(18 "+(t.height-50)+") scale(1.333)"}}),n("path",{attrs:{d:"\n            M 12 1\n            c -4.97 0 -9 4.03 -9 9\n            v 7\n            c 0 1.66 1.34 3 3 3\n            h 3\n            v -8\n            H 5\n            v -2\n            c 0-3.87 3.13 -7 7 -7\n            s 7 3.13 7 7\n            v 2\n            h -4\n            v 8\n            h 3\n            c 1.66 0 3 -1.34 3 -3\n            v -7\n            c 0 -4.97 -4.03 -9 -9 -9\n            z",fill:"#737373",transform:"translate(66 "+(t.height-50)+") scale(1.333)"}}),n("path",{attrs:{d:"\n            M 11 7\n            h 2\n            v 2\n            h -2\n            z\n            m 0 4\n            h 2\n            v 6\n            h -2\n            z\n            m 1 -9\n            C 6.48 2 2 6.48 2 12\n            s 4.48 10 10 10 10 -4.48 10 -10\n            S 17.52 2 12 2\n            z\n            m 0 18\n            c -4.41 0 -8 -3.59 -8 -8\n            s 3.59 -8 8 -8 8 3.59 8 8 -3.59 8 -8 8\n            z",fill:"#737373",transform:"translate(114 "+(t.height-50)+") scale(1.333)"}}),n("rect",{attrs:{x:"358",y:t.height-60,width:"112",height:"48",ry:"2",fill:"#4a90e2"}}),n("text",{attrs:{x:"414",y:t.height-36,fill:"#FFFFFF","font-size":"16","text-anchor":"middle","dominant-baseline":"central"}},[t._v("\n        確認\n    ")])],1)},o=[],c=(n("a481"),n("cebc")),l=n("2f62"),u={name:"CaptchaDialog",computed:Object(c["a"])({},Object(l["d"])(["title1","title2","columns","images"]),Object(l["b"])(["height","imgSize"]),{title2HTML:function(){return this.title2.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,'<br xmlns="http://www.w3.org/1999/xhtml"/>')}})},d=u,h=n("2877"),f=Object(h["a"])(d,r,o,!1,null,null,null),m=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary is-fullwidth",on:{click:t.saveImage}},[t._v("\n                画像を保存\n            ")])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("タイトル 1")]),n("div",{staticClass:"control"},[n("input",{staticClass:"input",attrs:{type:"text",placeholder:"お店の外観"},domProps:{value:t.title1},on:{input:function(e){return t.updateState(["title1",e.target.value])}}})])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("タイトル 2")]),n("div",{staticClass:"control"},[n("textarea",{staticClass:"textarea has-fixed-size",attrs:{placeholder:"の画像をすべて選択してください。"},domProps:{value:t.title2},on:{input:function(e){return t.updateState(["title2",e.target.value])}}})])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("列の数")]),n("div",{staticClass:"control"},[n("input",{staticClass:"input",attrs:{type:"number",min:"1",step:"1"},domProps:{value:t.columns},on:{input:function(e){t.updateState(["columns",parseInt(e.target.value)])}}})])]),n("transition-group",{staticClass:"field ca-images-container",attrs:{tag:"div",name:"image"}},[t._l(t.images,function(e,a){return n("div",{key:e.slice(-40,-1),staticClass:"ca-image-item"},[n("img",{staticClass:"ca-image-element",attrs:{src:e}}),n("button",{staticClass:"ca-image-remove button is-danger",on:{click:function(e){return t.removeImage(a)}}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-trash-alt"})])]),n("div",{staticClass:"ca-image-controls buttons has-addons is-centered"},[n("button",{staticClass:"button is-light",attrs:{disabled:0===a},on:{click:function(e){return t.moveImage({from:a,to:a-1})}}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-arrow-left"})])]),n("button",{staticClass:"button is-light",attrs:{disabled:a===t.images.length-1},on:{click:function(e){return t.moveImage({from:a,to:a+1})}}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-arrow-right"})])])])])}),n("div",{key:"addImage",staticClass:"control ca-image-item"},[n("button",{staticClass:"button ca-add-image",on:{click:t.selectImage1}},[t._v("\n                画像を追加\n            ")])])],2)],1)},g=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card"},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"ca-canvas-container",style:{height:t.canvasHeight+"px"}},[n("canvas",{ref:"canvas",staticClass:"ca-canvas",attrs:{width:t.width,height:t.height}})]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column field"},[n("label",{staticClass:"label"},[t._v("幅")]),n("p",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.width,expression:"width"}],staticClass:"input",attrs:{type:"number",min:"0"},domProps:{value:t.width},on:{input:function(e){e.target.composing||(t.width=e.target.value)}}})])]),n("div",{staticClass:"column field"},[n("label",{staticClass:"label"},[t._v("高さ")]),n("p",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.height,expression:"height"}],staticClass:"input",attrs:{type:"number",min:"0"},domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=e.target.value)}}})])])]),n("p",[t._v("\n            PCをお使いの方は画像を右クリックするとコピーでき、ツイート画面で\n            Ctrl+V していただくと直接画像を貼り付けることができます。\n        ")])]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:function(e){return t.$parent.close()}}},[t._v("\n            キャンセル\n        ")]),n("a",{staticClass:"button is-primary",attrs:{href:t.dataURL,download:t.title1+".png"}},[t._v("\n            ダウンロード\n        ")])])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("画像を保存")])])}],w=(n("5df3"),n("6c7b"),n("ac6a"),n("28a5"),n("96cf"),n("3b8d")),C={name:"SaveModal",mounted:function(){var t=this.$refs.canvas;this.ctx=t.getContext("2d"),this.update(),window.addEventListener("resize",this.resizeHandler),this.resizeHandler()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler)},data:function(){return{width:960,ctx:null,timerId:0,dataURL:"",canvasHeight:0}},computed:Object(c["a"])({},Object(l["d"])(["title1"]),{height:{get:function(){return Math.round(this.width/480*this.$store.getters.height)},set:function(t){this.width=Math.round(t/this.$store.getters.height*480)}}}),methods:{resizeHandler:function(){console.log("resize"),this.canvasHeight=this.$refs.canvas.getBoundingClientRect().width/this.width*this.height},update:function(){var t=this;clearTimeout(this.timerId),this.timerId=setTimeout(Object(w["a"])(regeneratorRuntime.mark(function e(){var n,a,i,s,r,o,c,l,u,d,h,f,m,p,g;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.ctx,a=t.width,i=t.$store.state,s=i.title1,r=i.title2,o=i.columns,c=i.images,l=t.$store.getters,u=l.height,d=l.imgSize,h=r.split("\n"),f=a/480,m='BlinkMacSystemFont, -apple-system, "Roboto", "Noto Sans JP", "Segoe UI", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", "Meiryo", sans-serif',n.save(),n.scale(f,f),n.fillStyle="#FFFFFF",n.fillRect(0,0,480,u),n.fillStyle="#4a90e2",n.fillRect(8,8,464,150),p=(82.5-30*h.length)/2,n.fillStyle="#FFFFFF",n.font="bold 36px ".concat(m),n.fillText(s,26,p+60,428),n.font="16px ".concat(m),h.forEach(function(t,e){n.fillText(t,26,p+67.5+25*(e+1),428)}),g=[],c.forEach(function(){var t=Object(w["a"])(regeneratorRuntime.mark(function t(e,a){var i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=document.createElement("img"),s=new Promise(function(t){return i.addEventListener("load",t,{once:!0})}),g.push(s),i.src=e,t.next=5,s;case 5:n.drawImage(i,8+d*(a%o),166+Math.floor(a/o)*d,d-8,d-8);case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),n.fillStyle="#DFDFDF",n.fillRect(0,u-70,480,2),n.fillStyle="#737373",n.save(),n.translate(18,u-50),n.scale(4/3,4/3),n.fill(new Path2D("M 17.65 6.35\n                        C 16.2 4.9 14.21 4 12 4\n                        c -4.42 0 -7.99 3.58 -7.99 8\n                        s 3.57 8 7.99 8\n                        c 3.73 0 6.84 -2.55 7.73 -6\n                        h -2.08\n                        c -0.82 2.33 -3.04 4 -5.65 4 -3.31 0 -6 -2.69 -6 -6\n                        s 2.69 -6 6 -6\n                        c 1.66 0 3.14 0.69 4.22 1.78\n                        L 13 11\n                        h 7\n                        V 4\n                        l -2.35 2.35\n                        z")),n.restore(),n.save(),n.translate(66,u-50),n.scale(4/3,4/3),n.fill(new Path2D("M 12 1\n                        c -4.97 0 -9 4.03 -9 9\n                        v 7\n                        c 0 1.66 1.34 3 3 3\n                        h 3\n                        v -8\n                        H 5\n                        v -2\n                        c 0-3.87 3.13 -7 7 -7\n                        s 7 3.13 7 7\n                        v 2\n                        h -4\n                        v 8\n                        h 3\n                        c 1.66 0 3 -1.34 3 -3\n                        v -7\n                        c 0 -4.97 -4.03 -9 -9 -9\n                        z")),n.restore(),n.save(),n.translate(114,u-50),n.scale(4/3,4/3),n.fill(new Path2D("M 11 7\n                        h 2\n                        v 2\n                        h -2\n                        z\n                        m 0 4\n                        h 2\n                        v 6\n                        h -2\n                        z\n                        m 1 -9\n                        C 6.48 2 2 6.48 2 12\n                        s 4.48 10 10 10 10 -4.48 10 -10\n                        S 17.52 2 12 2\n                        z\n                        m 0 18\n                        c -4.41 0 -8 -3.59 -8 -8\n                        s 3.59 -8 8 -8 8 3.59 8 8 -3.59 8 -8 8\n                        z")),n.restore(),n.fillStyle="#4a90e2",n.beginPath(),n.moveTo(360,u-60),n.arcTo(470,u-60,470,u-58,2),n.arcTo(470,u-12,468,u-12,2),n.arcTo(358,u-12,358,u-14,2),n.arcTo(358,u-60,360,u-60,2),n.closePath(),n.fill(),n.fillStyle="#FFFFFF",n.textAlign="center",n.textBaseline="middle",n.fillText("確認",414,u-36),e.next=48,Promise.all(g);case 48:t.dataURL=t.$refs.canvas.toDataURL("image/png");case 49:case"end":return e.stop()}},e)})),200)},download:function(){}},watch:{width:"update",height:"update"}},x=C,y=(n("e482"),Object(h["a"])(x,v,b,!1,null,"322b31c4",null)),_=y.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card"},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("croppa",{staticClass:"ca-croppa",attrs:{"prevent-white-space":!0,placeholder:"画像を選択",width:t.croppaSize,height:t.croppaSize,quality:464/t.croppaSize,"show-remove-button":!1},model:{value:t.croppa,callback:function(e){t.croppa=e},expression:"croppa"}})],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:function(e){return t.$parent.close()}}},[t._v("\n            キャンセル\n        ")]),n("button",{staticClass:"button is-primary",on:{click:t.finish}},[t._v("\n            決定\n        ")])])])},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("画像を編集")])])}],z=(n("c5f6"),{name:"CroppaModal",props:{croppaSize:{type:Number,required:!0,validator:function(t){return t>=0}}},data:function(){return{croppa:{}}},methods:{finish:function(){this.$emit("finish",this.croppa.generateDataUrl()),this.$parent.close()}}}),j=z,k=(n("b2c9"),Object(h["a"])(j,F,S,!1,null,"7e53d8aa",null)),O=k.exports,I={name:"InputFields",mounted:function(){window.addEventListener("resize",this.resizeHandler),this.resizeHandler()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler)},data:function(){return{timerId:0,croppaSize:0}},computed:Object(l["d"])(["title1","title2","columns","images"]),methods:Object(c["a"])({},Object(l["c"])(["updateState","removeImage","moveImage"]),{saveImage:function(){this.$modal.open({parent:this,component:_,hasModalCard:!0})},selectImage1:function(){var t=this;this.$modal.open({parent:this,component:O,hasModalCard:!0,props:{croppaSize:this.croppaSize},width:Math.min(window.innerWidth-100,window.innerHeight-300)+40,events:{finish:function(e){t.$store.commit("addImage",{dataURL:e})}}})},resizeHandler:function(){var t=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){t.croppaSize=Math.max(0,Math.min(window.innerWidth-100,window.innerHeight-300))},200)}})},M=I,P=(n("4bb8"),Object(h["a"])(M,p,g,!1,null,"25778c69",null)),H=P.exports,T={name:"app",components:{CaptchaDialog:m,InputFields:H},metaInfo:{title:"CAPgene - 私はロボットではありません",htmlAttrs:{lang:"ja"}}},$=T,D=(n("5c0b"),Object(h["a"])($,i,s,!1,null,null,null)),E=D.exports,L=n("768b"),R=n("0e44");a["default"].use(l["a"]);var A={title1:"CAPgene",title2:"の画像をすべて選択してください。\nすべて選択し終わったら [確認] をクリックしてください。",columns:4,images:[]},U=new l["a"].Store({plugins:[Object(R["a"])()],state:A,getters:{imgSize:function(t){return 472/t.columns},height:function(t,e){return 166+Math.ceil(t.images.length/t.columns)*e.imgSize+70}},mutations:{updateState:function(t,e){var n=Object(L["a"])(e,2),a=n[0],i=n[1];t[a]=i},addImage:function(t,e){var n=e.dataURL;t.images.push(n)},removeImage:function(t,e){t.images.splice(e,1)},moveImage:function(t,e){var n=e.from,a=e.to;t.images.splice(a,0,t.images.splice(n,1)[0])}},actions:{}}),N=n("9483");Object(N["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var B=n("8a03"),q=n.n(B),J=n("2896"),V=n.n(J);n("40d9"),n("15f5");a["default"].config.productionTip=!1,a["default"].use(q.a),a["default"].use(V.a),new a["default"]({store:U,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(t,e,n){},"7f5a":function(t,e,n){},b2c9:function(t,e,n){"use strict";var a=n("5485"),i=n.n(a);i.a},e482:function(t,e,n){"use strict";var a=n("7f5a"),i=n.n(a);i.a}});
//# sourceMappingURL=app.366fe440.js.map